name: ci
on:
push:
branches: [ main ]
pull_request:
branches: [ main ]


jobs:
backend:
runs-on: ubuntu-latest
steps:
 uses: actions/checkout@v4
 uses: actions/setup-python@v5
with: { python-version: '3.11' }
- run: pip install poetry==1.8.3
- run: cd backend && poetry install
- run: cd backend && ruff check . && black --check . && mypy app && pytest -q


frontend:
runs-on: ubuntu-latest
steps:
- uses: actions/checkout@v4
- uses: actions/setup-node@v4
with: { node-version: '20' }
- run: cd frontend && npm ci && npm run typecheck && npm run lint